(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{4014:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug-logins",function(){return s(7649)}])},7649:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return DebugLogins}});var t=s(5893),a=s(7294),i=s(3837),o=s(3454);function DebugLogins(){let e=[{username:"admin",password:"admin123"},{username:"admin2",password:"admin123"},{username:"mod1",password:"mod123"},{username:"user1",password:"user123"}],[n,s]=(0,a.useState)(""),[r,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,g]=(0,a.useState)(e[0].username),[h,p]=(0,a.useState)(!0);async function tryLogin(e){l(!0),s("");try{var n,t,a;let o=await (0,i.x4)(e.username,e.password),r=null!==(a=null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.accessToken)&&void 0!==a?a:null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.AccessToken;if((null==o?void 0:o.success)&&r){if(s(JSON.stringify(o.data,null,2)),(0,i.QV)(r),c(r),h)try{localStorage.setItem("accessToken",r),window.location.href="/dashboard"}catch(e){}}else s("Login returned: "+JSON.stringify(o))}catch(e){s("Error: "+((null==e?void 0:e.message)||String(e)))}finally{l(!1)}}return(0,t.jsxs)("div",{style:{padding:24},children:[(0,t.jsx)("h2",{children:"Debug login shortcuts"}),(0,t.jsxs)("p",{children:["API base: ",(0,t.jsx)("strong",{children:o.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12,alignItems:"center"},children:[(0,t.jsx)("select",{value:u,onChange:e=>g(e.target.value),children:e.map(e=>(0,t.jsx)("option",{value:e.username,children:e.username},e.username))}),(0,t.jsx)("button",{onClick:()=>tryLogin(e.find(e=>e.username===u)),disabled:r,children:"Login selected"}),(0,t.jsxs)("label",{style:{marginLeft:12},children:[(0,t.jsx)("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked)})," Auto-redirect"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12},children:[(0,t.jsx)("button",{disabled:!d,onClick:()=>{var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(d),alert("Token copied")},children:"Copy last token"}),(0,t.jsx)("button",{disabled:!d,onClick:()=>{try{localStorage.setItem("accessToken",d),(0,i.QV)(d),window.location.href="/dashboard"}catch(e){alert("Failed to use token: "+(null==e?void 0:e.message))}},children:"Use token (go to /dashboard)"})]}),(0,t.jsx)("pre",{style:{whiteSpace:"pre-wrap",background:"#f6f8fa",padding:12},children:n})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4014)}),_N_E=e.O()}]);